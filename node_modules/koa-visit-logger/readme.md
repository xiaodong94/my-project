
# koa-visit-logger

[![npm version][npm-image]][npm-url]

 Development style logger middleware for [koa](https://github.com/koajs/koa).

```
<-- GET /
--> GET / 200 835ms 746b
<-- GET /
--> GET / 200 960ms 1.9kb
<-- GET /users
--> GET /users 200 357ms 922b
<-- GET /users?page=2
--> GET /users?page=2 200 466ms 4.66kb
```

## Installation

```js
$ npm install koa-visit-logger
```

## Example

```js
const Koa = require('koa')
const logger = require('koa-visit-logger')

const app = new Koa()

app.use(logger())
```

## Notes

  Recommended that you `.use()` this middleware near the top
  to "wrap" all subsequent middleware.

## Options

``` js
// default option
const defaults = {
  appName: 'app',
  dailyRotateFile: {
    datePattern: 'YYYY.MM.DD.HH',
    maxSize: '100m',
    maxFiles: '15d'
  },
  domain: path.join(path.dirname(__dirname), '../logs'),
  fileName: 'app',
  handler: () => { },
  transporter: () => { }
}
```

## Use Custom Transporter

```js
const Koa = require('koa')
const logger = require('koa-visit-logger')

const app = new Koa()

app.use(logger({
  handler: data => {
    // ...
  },
  transporter: data => {
    // ...
  }
}))
```

## License

  [MIT License](http://www.opensource.org/licenses/mit-license.php)
 
[npm-image]: https://img.shields.io/npm/v/koa-visit-logger.svg?style=flat-square
[npm-url]: https://npmjs.org/package/koa-visit-logger
